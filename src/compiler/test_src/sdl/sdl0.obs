use SDL;

class Test {
	gWindow : static : Window;
	gScreenSurface : static : Surface;
	
	SDL_WINDOWPOS_UNDEFINED : static : Int;
	SDL_WINDOW_SHOWN : static : Int;
	
	function : Main(args : String[]) ~ Nil {
		SDL_WINDOWPOS_UNDEFINED := 0x1FFF0000;
		SDL_WINDOW_SHOWN := 0x00000004;
		
#		SDL_WINDOWPOS_UNDEFINED->PrintLine();
	}
	
	function : Init() ~ Bool {
		# Initialization flag
		success := true;
		
		# Initialize SDL
		if(Core->Init(0x20) < 0) {
			"SDL could not initialize!"->ErrorLine();
			success := false;
		}
		else {
		
			# Create window
			gWindow := Window->New( "SDL Tutorial", SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, 800, 640, SDL_WINDOW_SHOWN );
#~			
			if( gWindow == NULL )
			{
				printf( "Window could not be created! SDL_Error: %s\n", SDL_GetError() );
				success = false;
			}
			else
			{
				//Get window surface
				gScreenSurface = SDL_GetWindowSurface( gWindow );
			}
~#			
			gScreenSurface := Surface->New(gWindow);
		};
		
		return success;
	}
}

use Collection;

class Test {
	function : Main(args : String[]) ~ Nil {
		mm := MultiMap->New();
				
		mm->Insert(IntHolder->New(12));
		mm->Insert(IntHolder->New(14));
		mm->Insert(IntHolder->New(5));
		mm->Insert(IntHolder->New(12));
		mm->Insert(IntHolder->New(10));
		mm->Insert(IntHolder->New(12));
		mm->Insert(IntHolder->New(10));

		mm->Find(IntHolder->New(12))->Size()->PrintLine();
	}
}

class MultiMap {
	@map : Map;

	New() {
		@map := Map->New();
	}

	method : public : Insert(value : Compare) ~ Nil {
		values := Find(value);
		if(values = Nil) {
			values := CompareVector->New();
			@map->Insert(value, values);
		};

		values->AddBack(value);
	}

	method : public : Find(value : Compare) ~ CompareVector {
		return @map->Find(value)->As(CompareVector);
	}

	method : public : GetKeys() ~ Vector {
		return @map->GetKeys();
	}

	method : public : GetValues() ~ Vector {
		return Nil;
	}	

	method : public : Size() ~ Int {
		return 0;
	}
}
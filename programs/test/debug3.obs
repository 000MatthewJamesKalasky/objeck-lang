class Foo {
	function : Main(args : String[]) ~ Nil {
		pairs := Pair->New[3]<String, Bar<String> >;
		pairs[0] := Pair->New("Hello", Bar->New("World")<String>)<String, Bar<String> >;
		b := pairs[0];
#		y : String := b->GetValue()->Get();
		y : Bar<IntHolder> := b->GetValue()->Get()->PrintLine();
#		y->Get()->PrintLine();
	}
}

class Bar<E> {
	@v : E;

	New(v : E) {
		@v := v;
	}

	method : public : Get() ~ E {
		return @v;
	}
}

class Pair<Key : Compare, Value> {
	@key : Key;
	@value : Value;
	@left : Pair;
	@right : Pair;

	New(key : Key, value : Value) {
		@key := key;
		@value := value;
	}

	method : public : GetValue() ~ Value {
		return @value;
	}

	method : public : GetLeft() ~ Pair {
		return @left;
	}

	method : public : SetLeft(left : Pair) ~ Nil {
		@left := left;
	}
}
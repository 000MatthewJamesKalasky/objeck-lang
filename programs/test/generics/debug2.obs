# validate generic arrays

class Test {
	function : Main(args : String[]) ~ Nil {
		b : Bar := Bar->New() <Foo>;
	}
}

class Bar<V : Mock> {
	@v : V;
	@n : Float;

	New() {
	}
	
	method : public : Set(v : V) ~ Nil {
		@v := v;
		v->DoIt()->PrintLine();
	}
	
	method : public : Get() ~ V {
		return @v;
	}
}

class Foo {
	New() {
	}
}

interface Mock {
	method : virtual : public : DoIt() ~ Int;
}
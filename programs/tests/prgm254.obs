use System.ML;

class Foo {
	function : Main(argv : String[]) ~ Nil {
		data := Bool->New[32,8]

		dims := data->Size()
		cols := dims[1]
		rows := dims[0]


		same_perc := 0.25 # same
		test_col_0 := 4; test_col_1 := 5; test_col_1 := 2
		each(i : rows) {
			each(j : cols) {
				if(j = test_col_0 | j = test_col_1) {
					data[i, j] := true
				}
				else {
					data[i, j] := Float->Random() < same_perc;	
				}
			}
		}
		matrix := BoolMatrixRef->New(data)

		x := (cols - 1)->Random();
		y := (cols - 1)->Random();
		bag := matrix->RandomBag();
		"{$x},{$y}"->PrintLine();
		bag->ToString()->PrintLine();
	}
}
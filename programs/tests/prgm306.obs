use Data.CSV;

class Test {
	function : Main(args : String[]) ~ Nil {
		year := 1967;
		table := CsvTable->New(System.IO.Filesystem.FileReader->ReadFile("files/du_schedule_" + year));
		if(table->IsParsed()) {
			table->Size()->PrintLine();
			"Document parsed..."->PrintLine();

			away_schedule : CsvTable;
			if(args[0]->Equals("away")) {
				away_schedule := table->Search("At", "@");
			}
			else {
				away_schedule := table->Search("At", "");
			}

			away_schedule->Size()->PrintLine();
			each(away_game in away_schedule) {
				away_game->ToString()->PrintLine();
			};
		};
	}
}
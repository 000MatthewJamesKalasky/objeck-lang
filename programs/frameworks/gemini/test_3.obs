use Collection, API.Google.Gemini, System.IO.Filesystem;

class Test {
	function : Main(args : String[]) ~ Nil {
		content := Content->New("user")->AddPart(TextPart->New("What number is this image showing?"))
			->AddPart(BinaryPart->New(FileReader->ReadBinaryFile("thirdteen.png"), "image/png"));
		candidates := Model->GenerateContent("models/gemini-pro-vision", content, EndPoint->GetApiKey());
		each(candidate in candidates) {
			candidate->ToString()->PrintLine();
		};
	}
}
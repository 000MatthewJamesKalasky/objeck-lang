#~
# compile: obc -src hello_0.obs
# run: obr hello_0.obe
~#

class Hello {
  @value : static : Int;

  function : Action(req : Web.Server.Request, res : Web.Server.Response) ~ Nil {
    @value += 1;

    action := req->GetMethod()->As(Int);
    cache :=  req->GetHeader("Cache-Control");

    res->SetContentType("text/html");
    res->WriteBody("<html>Action={$action}, Cache={$cache}</html>");
  }
}

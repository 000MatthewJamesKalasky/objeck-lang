#~
# compile: obc -src https_1.obs -lib net
# run: obr https_1.obe
~#

use Collection.Generic;
use Web.HTTP;

class HttpsTest {
	function : Main(args : String[]) ~ Nil {
		if(args->Size() = 1) {
			headers := Map->New()<String, String>;
			headers->Insert("User-Agent", "");
			html := HttpsClient->GetAll(args[0], "text/html", headers);
			if(html = Nil) {
				"--- Unable to fetch URL ---"->ErrorLine();
			}
			else {
				html->PrintLine();
			};
		};
	}
}

use Collection.Generic;
use System.IO.File;

class Test {
	function : Main(args : String[]) ~ Nil {
		if(args->Size() = 1) {
			Test->New()->Process(args[0]);
		}
		else {
			"Invalid arguments!"->ErrorLine();
		};
	}

	New() {
	}

	method : public : Process(file : String) ~ Nil {
		table := Query.Structured.Table->FromCsv("Data", file);
		if(table <> Nil) {
			row := table->Get(9007);
			row->ToString()->PrintLine();
#~			
			results := table->Query("from Data where pk = 9007");
#			results := table->Query("from Oscar where Index = 3 or Index = 1");
			if(results <> Nil) {
				results->Size()->PrintLine();
			}
			else {
				"No results!"->ErrorLine();
			};
~#			
		};
	}
}
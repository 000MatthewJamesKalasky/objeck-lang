use Collection;
use TinyDB;

class Rosetta {
	function : Main(args : String[]) ~ Nil {
		t := MakeTable();
		t->Size()->PrintLine();
	
		q := Query->New("from game where name=doom and system=wii", t);
		q->Query()->PrintLine();
	}
	
	function : MakeTable() ~ Table {
		t := Table->New("game", ["name", "system", "date"]);
		
		r := t->Insert();
		r->Set("name", "wolfenstein 2");
		r->Set("system", "pc");
		r->Set("date", "10/27/17");
		
		r := t->Insert();
		r->Set("name", "xenoblade");
		r->Set("system", "wii");
		r->Set("date", "5/6/12");
		
		r := t->Insert();
		r->Set("name", "doom");
		r->Set("system", "pc");
		r->Set("date", "5/13/16");
		
		r := t->Insert();
		r->Set("name", "doom");
		r->Set("system", "wii");
		r->Set("date", "9/10/17");
		
		return t;
	}
}